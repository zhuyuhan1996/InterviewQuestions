索引是数据库用来提高性能的最常用工具，索引用于快速找出在某个列中有一特定值的行。

常用的包括BTREE索引和HASH索引。

设计索引的规则：

1、最适合索引的列是出现在where子句中的列，或连接子句中指定的列，而不是出现在select关键字后的选择列表中的列。

2、索引的列的基数越大，索引的效果越好。

3、尽量使用短索引。能够节省大量索引空间，也可能使查询更快。

4、不要过度索引。索引都要占用额外的磁盘空间，并降低写操作的性能。在修改表的内容时，索引必须进行更新，有时可能需要重构。

**1、B-Tree索引**

索引存储的值按索引列中的顺序排列。可以用B-Tree索引进行全关键字、关键字范围和关键字前缀查询。如果使用索引，必须保证按索引最左边前缀进行查询。由于B树中节点是顺序存储的，可以对查询结果进行order by。

限制：

1)查询必须从索引的最左边的列开始

2)不能跳过某一索引列。

3)存储引擎不能使用索引中范围条件右边的列。

**2、Hash索引** 

MySQL中只有Memory存储引擎显示支持hash索引，是默认索引类型，它也支持B-Tree索引。

如果多个值有相同的hash code，索引把它们的行指针用链表保存到同一个hash表项中。 

因为索引自己仅仅存储很短的值，所以索引非常紧凑，hash值不取决于列的数据类型， 

int列的索引和长字符串列的索引一样大。

**3、总结**

HASH索引适合等式比较的操作，不能用来加速order by操作，也不能确定在两个值之间大约有多少行，会影响一些查询的执行效率。而且只能使用整个关键字来搜索一行。

BTREE索引，使用大于，小于，BETWEEN，不等于，LIKE等操作符的时候都可以用。对索引字段进行范围查询的时候，只有BTREE索引可以通过索引访问。HASH索引实际上是全表扫描的。