多线程比多进程成本低，但性能更低。

多线程的优点：

无需跨进程边界；程序逻辑和控制方式简单；所有线程可以直接共享内存和变量；线程方式消耗的总资源比进程方式好

缺点：

每个线程与主程序共用地址空间，线程之间的同步和加锁控制比较麻烦；一个线程崩溃可能引起整个程序的稳定性，到达一定的线程数程度后，即使再增加CPU也无法提高性能。

多进程的优点：

顺序程序的特点，具有封闭性和可再现性；

程序的并发执行和资源共享，多道程序设计出现后，实现了程序的并发执行和资源共享，提高了系统的效率和系统的资源利用率。

操作系统调度切换多个线程要比调度进程快很多，而且进程间内存无法共享。

**1、需要频繁的创建销毁的优先使用线程**

**2、需要进行大量计算的优先使用线程**

**3、强相关的用线程，弱相关的用进程**

一般的Server需要完成如下任务：消息收发、消息处理。“消息收发”和“消息处理”就是弱相关的任务，而“消息处理”里面可能又分为“消息解码”、“业务处理”，这两个任务相对来说相关性就要强多了。因此“消息收发”和“消息处理”可以分进程设计，“消息解码”、“业务处理”可以分线程设计

**4、可能扩展到多机分布的用进程，多核分布的用线程。**

**5、都满足的情况下，随意选择。**